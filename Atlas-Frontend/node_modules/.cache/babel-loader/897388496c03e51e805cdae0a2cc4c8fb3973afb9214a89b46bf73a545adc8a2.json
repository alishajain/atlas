{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{getYarnIds,getYarnDetailsByLotNo}from\"../API/YarnApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchYarn=()=>{const[selectedYarnId,setSelectedYarnId]=useState(\"\");const[yarnIds,setYarnIds]=useState([]);// Initialize as empty array\nconst[yarnDetails,setYarnDetails]=useState([]);// Fetch Yarn IDs on component mount\nuseEffect(()=>{const fetchYarnIds=async()=>{try{const yarnIdsData=await getYarnIds();if(yarnIdsData&&Array.isArray(yarnIdsData.data)){setYarnIds(yarnIdsData.data);}else{console.error(\"Invalid data format for YarnIds\",yarnIdsData);}}catch(error){console.error(\"Error fetching Yarn IDs:\",error);}};fetchYarnIds();},[]);// Fetch Yarn details when selected YarnId changes\nuseEffect(()=>{if(selectedYarnId){const fetchYarnDetails=async()=>{try{const yarnData=await getYarnDetailsByLotNo(selectedYarnId);setYarnDetails(yarnData.data||[]);}catch(error){console.error(\"Error fetching yarn details:\",error);}};fetchYarnDetails();}},[selectedYarnId]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Yarn Details by LotNo\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"yarnId\",children:\"Yarn ID:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"yarnId\",value:selectedYarnId,onChange:e=>setSelectedYarnId(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Yarn ID\"}),Array.isArray(yarnIds)&&yarnIds.length>0?yarnIds.map(yarn=>/*#__PURE__*/_jsx(\"option\",{value:yarn.YarnId,children:yarn.YarnId},yarn.YarnId)):/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No Yarn IDs available\"})]})]})}),yarnDetails.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Yarn Details:\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Lot No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Weight\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:yarnDetails.map((yarn,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:yarn.LottNo}),/*#__PURE__*/_jsx(\"td\",{children:yarn.TotalWeight})]},index))})]})]})]});};export default SearchYarn;","map":{"version":3,"names":["React","useState","useEffect","getYarnIds","getYarnDetailsByLotNo","jsx","_jsx","jsxs","_jsxs","SearchYarn","selectedYarnId","setSelectedYarnId","yarnIds","setYarnIds","yarnDetails","setYarnDetails","fetchYarnIds","yarnIdsData","Array","isArray","data","console","error","fetchYarnDetails","yarnData","children","htmlFor","id","value","onChange","e","target","required","length","map","yarn","YarnId","index","LottNo","TotalWeight"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/SearchYarn.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getYarnIds, getYarnDetailsByLotNo } from \"../API/YarnApi\";\r\n\r\nconst SearchYarn = () => {\r\n  const [selectedYarnId, setSelectedYarnId] = useState(\"\");\r\n  const [yarnIds, setYarnIds] = useState([]); // Initialize as empty array\r\n  const [yarnDetails, setYarnDetails] = useState([]);\r\n\r\n  // Fetch Yarn IDs on component mount\r\n  useEffect(() => {\r\n    const fetchYarnIds = async () => {\r\n      try {\r\n        const yarnIdsData = await getYarnIds();\r\n        if (yarnIdsData && Array.isArray(yarnIdsData.data)) {\r\n          setYarnIds(yarnIdsData.data);\r\n        } else {\r\n          console.error(\"Invalid data format for YarnIds\", yarnIdsData);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching Yarn IDs:\", error);\r\n      }\r\n    };\r\n\r\n    fetchYarnIds();\r\n  }, []);\r\n\r\n  // Fetch Yarn details when selected YarnId changes\r\n  useEffect(() => {\r\n    if (selectedYarnId) {\r\n      const fetchYarnDetails = async () => {\r\n        try {\r\n          const yarnData = await getYarnDetailsByLotNo(selectedYarnId);\r\n          setYarnDetails(yarnData.data || []);\r\n        } catch (error) {\r\n          console.error(\"Error fetching yarn details:\", error);\r\n        }\r\n      };\r\n\r\n      fetchYarnDetails();\r\n    }\r\n  }, [selectedYarnId]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Yarn Details by LotNo</h2>\r\n      <form>\r\n        <div>\r\n          <label htmlFor=\"yarnId\">Yarn ID:</label>\r\n          <select\r\n            id=\"yarnId\"\r\n            value={selectedYarnId}\r\n            onChange={(e) => setSelectedYarnId(e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">Select Yarn ID</option>\r\n            {Array.isArray(yarnIds) && yarnIds.length > 0 ? (\r\n              yarnIds.map((yarn) => (\r\n                <option key={yarn.YarnId} value={yarn.YarnId}>\r\n                  {yarn.YarnId}\r\n                </option>\r\n              ))\r\n            ) : (\r\n              <option value=\"\">No Yarn IDs available</option>\r\n            )}\r\n          </select>\r\n        </div>\r\n      </form>\r\n\r\n      {yarnDetails.length > 0 && (\r\n        <div>\r\n          <h3>Yarn Details:</h3>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Lot No</th>\r\n                <th>Weight</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {yarnDetails.map((yarn, index) => (\r\n                <tr key={index}>\r\n                  <td>{yarn.LottNo}</td>\r\n                  <td>{yarn.TotalWeight}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchYarn;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector}from\"react-redux\";// Import useSelector hook from Redux\nimport{updateMachineByMachineNo}from\"../API/MachineApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateMachine=_ref=>{let{machine,goBack}=_ref;// Fetch userId from Redux store\nconst userId=useSelector(state=>state.user.userId);console.log(userId);const[updatedMachine,setUpdatedMachine]=useState({...machine});const[successMessage,setSuccessMessage]=useState(\"\");const handleChange=e=>{const{name,value}=e.target;setUpdatedMachine(prevData=>({...prevData,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();// Adding userId to updatedMachine data\nconst machineWithUserId={...updatedMachine,UserId:userId};try{const result=await updateMachineByMachineNo(machine.MachineNo,machineWithUserId);setSuccessMessage(\"Machine updated successfully\");}catch(err){setSuccessMessage(\"Machine details not updated\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Machine\"}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\"},children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ModelNo\",children:\"Model No\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ModelNo\",value:updatedMachine.ModelNo,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"MachineType\",children:\"Machine Type\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"MachineType\",value:updatedMachine.MachineType,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Category\",children:\"Category\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Category\",value:updatedMachine.Category,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"CountPeriod\",children:\"Count Period\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"CountPeriod\",value:updatedMachine.CountPeriod,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"MachineSystem\",children:\"Machine System\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"MachineSystem\",value:updatedMachine.MachineSystem,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"MachineStatus\",children:\"Machine Status\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"MachineStatus\",value:updatedMachine.MachineStatus,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Remarks\",children:\"Remarks\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Remarks\",value:updatedMachine.Remarks,onChange:handleChange})})]})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Machine\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:goBack,children:\"Go back to search\"})]});};export default UpdateMachine;","map":{"version":3,"names":["React","useState","useSelector","updateMachineByMachineNo","jsx","_jsx","jsxs","_jsxs","UpdateMachine","_ref","machine","goBack","userId","state","user","console","log","updatedMachine","setUpdatedMachine","successMessage","setSuccessMessage","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","machineWithUserId","UserId","result","MachineNo","err","children","style","color","onSubmit","htmlFor","type","ModelNo","onChange","MachineType","Category","CountPeriod","MachineSystem","MachineStatus","Remarks","onClick"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/UpdateMachine.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\"; // Import useSelector hook from Redux\r\nimport { updateMachineByMachineNo } from \"../API/MachineApi\";\r\n\r\nconst UpdateMachine = ({ machine, goBack }) => {\r\n  // Fetch userId from Redux store\r\n  const userId = useSelector((state) => state.user.userId);\r\n  console.log(userId);\r\n  const [updatedMachine, setUpdatedMachine] = useState({ ...machine });\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  \r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUpdatedMachine((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Adding userId to updatedMachine data\r\n    const machineWithUserId = { ...updatedMachine, UserId: userId };\r\n\r\n    try {\r\n      const result = await updateMachineByMachineNo(machine.MachineNo, machineWithUserId);\r\n      setSuccessMessage(\"Machine updated successfully\");\r\n    } catch (err) {\r\n      setSuccessMessage(\"Machine details not updated\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Update Machine</h2>\r\n      {successMessage && <p style={{ color: \"green\" }}>{successMessage}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"ModelNo\">Model No</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"ModelNo\"\r\n                  value={updatedMachine.ModelNo}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"MachineType\">Machine Type</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"MachineType\"\r\n                  value={updatedMachine.MachineType}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"Category\">Category</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"Category\"\r\n                  value={updatedMachine.Category}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"CountPeriod\">Count Period</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"CountPeriod\"\r\n                  value={updatedMachine.CountPeriod}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"MachineSystem\">Machine System</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"MachineSystem\"\r\n                  value={updatedMachine.MachineSystem}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"MachineStatus\">Machine Status</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"MachineStatus\"\r\n                  value={updatedMachine.MachineStatus}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label htmlFor=\"Remarks\">Remarks</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"Remarks\"\r\n                  value={updatedMachine.Remarks}\r\n                  onChange={handleChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <button type=\"submit\">Update Machine</button>\r\n      </form>\r\n\r\n      <button onClick={goBack}>Go back to search</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateMachine;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CAAE;AAC3C,OAASC,wBAAwB,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAAF,IAAA,CACxC;AACA,KAAM,CAAAG,MAAM,CAAGV,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACF,MAAM,CAAC,CACxDG,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC,CACnB,KAAM,CAACK,cAAc,CAAEC,iBAAiB,CAAC,CAAGjB,QAAQ,CAAC,CAAE,GAAGS,OAAQ,CAAC,CAAC,CACpE,KAAM,CAACS,cAAc,CAAEC,iBAAiB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAExD,KAAM,CAAAoB,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCP,iBAAiB,CAAEQ,QAAQ,GAAM,CAC/B,GAAGA,QAAQ,CACX,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAElB;AACA,KAAM,CAAAC,iBAAiB,CAAG,CAAE,GAAGZ,cAAc,CAAEa,MAAM,CAAElB,MAAO,CAAC,CAE/D,GAAI,CACF,KAAM,CAAAmB,MAAM,CAAG,KAAM,CAAA5B,wBAAwB,CAACO,OAAO,CAACsB,SAAS,CAAEH,iBAAiB,CAAC,CACnFT,iBAAiB,CAAC,8BAA8B,CAAC,CACnD,CAAE,MAAOa,GAAG,CAAE,CACZb,iBAAiB,CAAC,6BAA6B,CAAC,CAClD,CACF,CAAC,CAED,mBACEb,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAI,gBAAc,CAAI,CAAC,CACtBf,cAAc,eAAId,IAAA,MAAG8B,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAF,QAAA,CAAEf,cAAc,CAAI,CAAC,cACrEZ,KAAA,SAAM8B,QAAQ,CAAEV,YAAa,CAAAO,QAAA,eAC3B7B,IAAA,UAAA6B,QAAA,cACE3B,KAAA,UAAA2B,QAAA,eACE3B,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,SAAS,CAAAJ,QAAA,CAAC,UAAQ,CAAO,CAAC,CACvC,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,SAAS,CACdC,KAAK,CAAEP,cAAc,CAACuB,OAAQ,CAC9BC,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,cACLd,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,aAAa,CAAAJ,QAAA,CAAC,cAAY,CAAO,CAAC,CAC/C,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAEP,cAAc,CAACyB,WAAY,CAClCD,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,cACLd,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,UAAQ,CAAO,CAAC,CACxC,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEP,cAAc,CAAC0B,QAAS,CAC/BF,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,cACLd,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,aAAa,CAAAJ,QAAA,CAAC,cAAY,CAAO,CAAC,CAC/C,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAEP,cAAc,CAAC2B,WAAY,CAClCH,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,cACLd,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,eAAe,CAAAJ,QAAA,CAAC,gBAAc,CAAO,CAAC,CACnD,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,eAAe,CACpBC,KAAK,CAAEP,cAAc,CAAC4B,aAAc,CACpCJ,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,cACLd,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,eAAe,CAAAJ,QAAA,CAAC,gBAAc,CAAO,CAAC,CACnD,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,eAAe,CACpBC,KAAK,CAAEP,cAAc,CAAC6B,aAAc,CACpCL,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,cACLd,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UAAOiC,OAAO,CAAC,SAAS,CAAAJ,QAAA,CAAC,SAAO,CAAO,CAAC,CACtC,CAAC,cACL7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,UACEkC,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,SAAS,CACdC,KAAK,CAAEP,cAAc,CAAC8B,OAAQ,CAC9BN,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACA,CAAC,EACH,CAAC,EACA,CAAC,CACH,CAAC,cACRhB,IAAA,WAAQkC,IAAI,CAAC,QAAQ,CAAAL,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACzC,CAAC,cAEP7B,IAAA,WAAQ2C,OAAO,CAAErC,MAAO,CAAAuB,QAAA,CAAC,mBAAiB,CAAQ,CAAC,EAChD,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import{deleteSample}from'../API/SampleApi';// Assuming you have the API functions in this path\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteSample=()=>{const location=useLocation();const navigate=useNavigate();const[RSN,setRSN]=useState(null);const[isDeleting,setIsDeleting]=useState(false);const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState('');useEffect(()=>{// Get RSN from location state\nif(location.state&&location.state.RSN){setRSN(location.state.RSN);}else{setError('RSN is required');}},[location]);const handleDelete=async()=>{if(!RSN){setError('RSN is required');return;}setIsDeleting(true);setError(null);setSuccessMessage('');try{// Call the delete function from the API\nconst response=await deleteSample(RSN);if(response.success){setSuccessMessage('Sample record deleted successfully.');setTimeout(()=>{navigate('/');},2000);}else{setError(response.message||'Failed to delete the sample record.');}}catch(err){setError(err.message||'Error deleting the sample record.');}finally{setIsDeleting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"delete-sample-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Sample Record\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",style:{color:'green'},children:successMessage}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Are you sure you want to delete the sample record with RSN: \",/*#__PURE__*/_jsx(\"strong\",{children:RSN}),\"?\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,disabled:isDeleting,style:{backgroundColor:'red',color:'white',padding:'10px',cursor:'pointer'},children:isDeleting?'Deleting...':'Delete Sample'})]})]});};export default DeleteSample;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","deleteSample","jsx","_jsx","jsxs","_jsxs","DeleteSample","location","navigate","RSN","setRSN","isDeleting","setIsDeleting","error","setError","successMessage","setSuccessMessage","state","handleDelete","response","success","setTimeout","message","err","className","children","style","color","onClick","disabled","backgroundColor","padding","cursor"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Pages/DeleteSample.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { deleteSample } from '../API/SampleApi';  // Assuming you have the API functions in this path\r\n\r\nconst DeleteSample = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  \r\n  const [RSN, setRSN] = useState(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Get RSN from location state\r\n    if (location.state && location.state.RSN) {\r\n      setRSN(location.state.RSN);\r\n    } else {\r\n      setError('RSN is required');\r\n    }\r\n  }, [location]);\r\n\r\n  const handleDelete = async () => {\r\n    if (!RSN) {\r\n      setError('RSN is required');\r\n      return;\r\n    }\r\n\r\n    setIsDeleting(true);\r\n    setError(null);\r\n    setSuccessMessage('');\r\n\r\n    try {\r\n      // Call the delete function from the API\r\n      const response = await deleteSample(RSN);\r\n\r\n      if (response.success) {\r\n        setSuccessMessage('Sample record deleted successfully.');\r\n        setTimeout(() => {\r\n          navigate('/');\r\n        }, 2000);\r\n      } else {\r\n        setError(response.message || 'Failed to delete the sample record.');\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || 'Error deleting the sample record.');\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"delete-sample-container\">\r\n      <h2>Delete Sample Record</h2>\r\n      \r\n      {error && <p className=\"error-message\" style={{ color: 'red' }}>{error}</p>}\r\n      {successMessage && <p className=\"success-message\" style={{ color: 'green' }}>{successMessage}</p>}\r\n      \r\n      <div>\r\n        <p>Are you sure you want to delete the sample record with RSN: <strong>{RSN}</strong>?</p>\r\n        <button \r\n          onClick={handleDelete} \r\n          disabled={isDeleting}\r\n          style={{ backgroundColor: 'red', color: 'white', padding: '10px', cursor: 'pointer' }}\r\n        >\r\n          {isDeleting ? 'Deleting...' : 'Delete Sample'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteSample;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";// Import useNavigate\nimport{getKnittingDetailsByRSN}from\"../API/SampleApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ShowKnittingDetails=_ref=>{let{RSN}=_ref;const[knittingData,setKnittingData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const navigate=useNavigate();useEffect(()=>{if(RSN){const fetchData=async()=>{setLoading(true);try{const response=await getKnittingDetailsByRSN(RSN);setKnittingData(response.data);}catch(err){setError(\"Failed to fetch knitting details.\");}finally{setLoading(false);}};fetchData();}},[RSN]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error});// Function to check for non-null, non-zero, and non-empty values\nconst isNonZero=value=>{if(typeof value===\"object\"&&value!==null){return value.Weight&&value.Weight!==0||value.Time&&value.Time!==0;}return value!==0&&value!==\"\"&&value!==null&&value!==undefined;};const isNonZeroData=data=>{return Object.entries(data).filter(_ref2=>{let[key,value]=_ref2;return isNonZero(value);});};const handleUpdateClick=()=>{navigate(`/panel-selection/${RSN}`,{state:{RSN:RSN,action:\"update\"}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Knitting Details\"}),knittingData&&knittingData.length>0?knittingData.map((data,index)=>{const nonZeroData=isNonZeroData(data);return/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"30px\"},children:nonZeroData.length>0?/*#__PURE__*/_jsxs(\"table\",{border:\"1\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Field\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Weight\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:nonZeroData.map(_ref3=>{let[key,value]=_ref3;if(typeof value===\"object\"&&value!==null){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:key}),/*#__PURE__*/_jsx(\"td\",{children:value.Weight||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:value.Time||\"N/A\"})]},key);}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:key}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:value})]},key);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No relevant data available\"})},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"No knitting details available\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateClick,children:\"Update Knitting Details\"})})]});};export default ShowKnittingDetails;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","getKnittingDetailsByRSN","jsx","_jsx","jsxs","_jsxs","ShowKnittingDetails","_ref","RSN","knittingData","setKnittingData","loading","setLoading","error","setError","navigate","fetchData","response","data","err","children","style","color","isNonZero","value","Weight","Time","undefined","isNonZeroData","Object","entries","filter","_ref2","key","handleUpdateClick","state","action","length","map","index","nonZeroData","marginBottom","border","width","_ref3","colSpan","marginTop","onClick"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/ShowKnittingDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\"; // Import useNavigate\r\nimport { getKnittingDetailsByRSN } from \"../API/SampleApi\";\r\n\r\nconst ShowKnittingDetails = ({ RSN }) => {\r\n  const [knittingData, setKnittingData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (RSN) {\r\n      const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n          const response = await getKnittingDetailsByRSN(RSN);\r\n          setKnittingData(response.data);\r\n        } catch (err) {\r\n          setError(\"Failed to fetch knitting details.\");\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      fetchData();\r\n    }\r\n  }, [RSN]);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p style={{ color: \"red\" }}>{error}</p>;\r\n\r\n  // Function to check for non-null, non-zero, and non-empty values\r\n  const isNonZero = (value) => {\r\n    if (typeof value === \"object\" && value !== null) {\r\n      return (\r\n        (value.Weight && value.Weight !== 0) ||\r\n        (value.Time && value.Time !== 0)\r\n      );\r\n    }\r\n    return value !== 0 && value !== \"\" && value !== null && value !== undefined;\r\n  };\r\n\r\n  const isNonZeroData = (data) => {\r\n    return Object.entries(data).filter(([key, value]) => isNonZero(value));\r\n  };\r\n\r\n  const handleUpdateClick = () => {\r\n    navigate(`/panel-selection/${RSN}`, {\r\n      state: { RSN: RSN, action: \"update\" },\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Knitting Details</h1>\r\n      {knittingData && knittingData.length > 0 ? (\r\n        knittingData.map((data, index) => {\r\n          const nonZeroData = isNonZeroData(data);\r\n          return (\r\n            <div key={index} style={{ marginBottom: \"30px\" }}>\r\n              {nonZeroData.length > 0 ? (\r\n                <table border=\"1\" style={{ width: \"100%\" }}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Field</th>\r\n                      <th>Weight</th>\r\n                      <th>Time</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {nonZeroData.map(([key, value]) => {\r\n                      if (typeof value === \"object\" && value !== null) {\r\n                        return (\r\n                          <tr key={key}>\r\n                            <td>{key}</td>\r\n                            <td>{value.Weight || \"N/A\"}</td>\r\n                            <td>{value.Time || \"N/A\"}</td>\r\n                          </tr>\r\n                        );\r\n                      }\r\n                      return (\r\n                        <tr key={key}>\r\n                          <td>{key}</td>\r\n                          <td colSpan=\"2\">{value}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              ) : (\r\n                <p>No relevant data available</p>\r\n              )}\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <p>No knitting details available</p>\r\n      )}\r\n\r\n      <div style={{ marginTop: \"20px\" }}>\r\n        <button onClick={handleUpdateClick}>Update Knitting Details</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowKnittingDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from\"react\";import{addYarnDetails}from\"../API/YarnApi\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";// Import useNavigate\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddYarnDetails=()=>{const[yarnId,setYarnId]=useState(\"\");const[yarnType,setYarnType]=useState(\"\");const[yarnCount,setYarnCount]=useState(\"\");const[colorName,setColorName]=useState(\"\");const[ColorCode,setColorCode]=useState(\"\");const[message,setMessage]=useState(null);const[loading,setLoading]=useState(false);const userId=useSelector(state=>state.user.userId);const navigate=useNavigate();// Function to create the Yarn ID based on the fields\nconst createYarnId=()=>{const createdId=(yarnType.charAt(0)+yarnCount.slice(-2)+colorName.charAt(0)+colorName.charAt(colorName.length-1)+ColorCode).toUpperCase();setYarnId(createdId);};// Create the yarnId before sending the data\nconst yarnIdHandler=()=>{createYarnId();};// Function to handle form submission\nconst handleSubmit=async e=>{e.preventDefault();// Prevent default form behavior\nif(!yarnType||!yarnCount||!colorName||!ColorCode){setMessage(\"Please fill in all fields.\");return;}// Prepare the data object for the API call\nconst yarnData={YarnId:yarnId,YarnType:yarnType,YarnCount:yarnCount,ColorName:colorName,ColorCode:ColorCode,UserId:userId};setLoading(true);try{const response=await addYarnDetails(yarnData);setMessage(response.success?\"Yarn details added successfully!\":\"Failed to add yarn details.\");}catch(error){setMessage(`Error: ${error.message}`);}finally{setLoading(false);}};// Function to navigate to home\nconst handleBack=()=>{navigate(\"/yarn\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Yarn Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Yarn Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:yarnType,onChange:e=>setYarnType(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Yarn Count:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:yarnCount,onChange:e=>setYarnCount(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:colorName,onChange:e=>setColorName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color Code:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ColorCode,onChange:e=>setColorCode(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:yarnIdHandler,children:\"Generate Yarn ID\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"YarnID: \"}),/*#__PURE__*/_jsx(\"label\",{children:yarnId})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?\"Submitting...\":\"Submit Yarn Details\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleBack,children:\"Back\"})})]});};export default AddYarnDetails;","map":{"version":3,"names":["React","useState","addYarnDetails","useSelector","useNavigate","jsx","_jsx","jsxs","_jsxs","AddYarnDetails","yarnId","setYarnId","yarnType","setYarnType","yarnCount","setYarnCount","colorName","setColorName","ColorCode","setColorCode","message","setMessage","loading","setLoading","userId","state","user","navigate","createYarnId","createdId","charAt","slice","length","toUpperCase","yarnIdHandler","handleSubmit","e","preventDefault","yarnData","YarnId","YarnType","YarnCount","ColorName","UserId","response","success","error","handleBack","children","onSubmit","type","value","onChange","target","onClick","disabled"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/AddYarnDetails.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { addYarnDetails } from \"../API/YarnApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\"; // Import useNavigate\r\n\r\nconst AddYarnDetails = () => {\r\n  const [yarnId, setYarnId] = useState(\"\");\r\n  const [yarnType, setYarnType] = useState(\"\");\r\n  const [yarnCount, setYarnCount] = useState(\"\");\r\n  const [colorName, setColorName] = useState(\"\");\r\n  const [ColorCode, setColorCode] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const userId = useSelector((state) => state.user.userId);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Function to create the Yarn ID based on the fields\r\n  const createYarnId = () => {\r\n    const createdId = (\r\n      yarnType.charAt(0) +\r\n      yarnCount.slice(-2) +\r\n      colorName.charAt(0) +\r\n      colorName.charAt(colorName.length - 1) +\r\n      ColorCode\r\n    ).toUpperCase();\r\n    setYarnId(createdId);\r\n  };\r\n\r\n  // Create the yarnId before sending the data\r\n  const yarnIdHandler = () => {\r\n    createYarnId();\r\n  };\r\n\r\n  // Function to handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault(); // Prevent default form behavior\r\n\r\n    if (!yarnType || !yarnCount || !colorName || !ColorCode) {\r\n      setMessage(\"Please fill in all fields.\");\r\n      return;\r\n    }\r\n\r\n    // Prepare the data object for the API call\r\n    const yarnData = {\r\n      YarnId: yarnId,\r\n      YarnType: yarnType,\r\n      YarnCount: yarnCount,\r\n      ColorName: colorName,\r\n      ColorCode: ColorCode,\r\n      UserId: userId,\r\n    };\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await addYarnDetails(yarnData);\r\n      setMessage(response.success ? \"Yarn details added successfully!\" : \"Failed to add yarn details.\");\r\n    } catch (error) {\r\n      setMessage(`Error: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Function to navigate to home\r\n  const handleBack = () => {\r\n    navigate(\"/yarn\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Add Yarn Details</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Yarn Type:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={yarnType}\r\n            onChange={(e) => setYarnType(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Yarn Count:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={yarnCount}\r\n            onChange={(e) => setYarnCount(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Color Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={colorName}\r\n            onChange={(e) => setColorName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Color Code:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={ColorCode}\r\n            onChange={(e) => setColorCode(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"button\" onClick={yarnIdHandler}>\r\n          Generate Yarn ID\r\n        </button>\r\n        <div>\r\n          <label>YarnID: </label>\r\n          <label>{yarnId}</label>\r\n        </div>\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? \"Submitting...\" : \"Submit Yarn Details\"}\r\n        </button>\r\n      </form>\r\n      {message && <p>{message}</p>}\r\n\r\n      {/* Button to navigate to home */}\r\n      <div>\r\n        <button onClick={handleBack}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddYarnDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
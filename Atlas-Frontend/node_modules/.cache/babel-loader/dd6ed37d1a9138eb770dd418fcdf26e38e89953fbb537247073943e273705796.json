{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{getImageByRSN}from\"../API/ImageApi\";import{jsx as _jsx}from\"react/jsx-runtime\";const ShowImage=_ref=>{let{RSN}=_ref;const[imageData,setImageData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchImage=async()=>{try{setLoading(true);setError(null);const response=await getImageByRSN(Number(RSN));// Check if response data contains image and handle it\nif(response.data&&response.data.length>0&&response.data[0].ImageData){const imagePath=response.data[0].ImageData.replace(/\\\\/g,\"/\");setImageData(imagePath);}else{throw new Error(\"No ImageData found in response.\");}}catch(err){setError(\"Error fetching image\");console.error(\"Error details:\",err);}finally{setLoading(false);}};fetchImage();},[RSN]);if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading image...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{children:error});}return/*#__PURE__*/_jsx(\"div\",{children:imageData?/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5000/${imageData}`,alt:\"Sample\",style:{width:\"100%\",maxWidth:\"600px\"}}):/*#__PURE__*/_jsx(\"p\",{children:\"No image found for this RSN.\"})});};export default ShowImage;","map":{"version":3,"names":["React","useState","useEffect","getImageByRSN","jsx","_jsx","ShowImage","_ref","RSN","imageData","setImageData","loading","setLoading","error","setError","fetchImage","response","Number","data","length","ImageData","imagePath","replace","Error","err","console","children","src","alt","style","width","maxWidth"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/ShowImage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getImageByRSN } from \"../API/ImageApi\";\r\n\r\nconst ShowImage = ({ RSN }) => {\r\n  const [imageData, setImageData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchImage = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        const response = await getImageByRSN(Number(RSN));\r\n\r\n        // Check if response data contains image and handle it\r\n        if (response.data && response.data.length > 0 && response.data[0].ImageData) {\r\n          const imagePath = response.data[0].ImageData.replace(/\\\\/g, \"/\");\r\n          setImageData(imagePath);\r\n        } else {\r\n          throw new Error(\"No ImageData found in response.\");\r\n        }\r\n      } catch (err) {\r\n        setError(\"Error fetching image\");\r\n        console.error(\"Error details:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchImage();\r\n  }, [RSN]);\r\n\r\n  if (loading) {\r\n    return <p>Loading image...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {imageData ? (\r\n        <img\r\n          src={`http://localhost:5000/${imageData}`}\r\n          alt=\"Sample\"\r\n          style={{ width: \"100%\", maxWidth: \"600px\" }}\r\n        />\r\n      ) : (\r\n        <p>No image found for this RSN.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowImage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAa,IAAZ,CAAEC,GAAI,CAAC,CAAAD,IAAA,CACxB,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAb,aAAa,CAACc,MAAM,CAACT,GAAG,CAAC,CAAC,CAEjD;AACA,GAAIQ,QAAQ,CAACE,IAAI,EAAIF,QAAQ,CAACE,IAAI,CAACC,MAAM,CAAG,CAAC,EAAIH,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CAACE,SAAS,CAAE,CAC3E,KAAM,CAAAC,SAAS,CAAGL,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CAACE,SAAS,CAACE,OAAO,CAAC,KAAK,CAAE,GAAG,CAAC,CAChEZ,YAAY,CAACW,SAAS,CAAC,CACzB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAE,KAAK,CAAC,iCAAiC,CAAC,CACpD,CACF,CAAE,MAAOC,GAAG,CAAE,CACZV,QAAQ,CAAC,sBAAsB,CAAC,CAChCW,OAAO,CAACZ,KAAK,CAAC,gBAAgB,CAAEW,GAAG,CAAC,CACtC,CAAC,OAAS,CACRZ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACP,GAAG,CAAC,CAAC,CAET,GAAIG,OAAO,CAAE,CACX,mBAAON,IAAA,MAAAqB,QAAA,CAAG,kBAAgB,CAAG,CAAC,CAChC,CAEA,GAAIb,KAAK,CAAE,CACT,mBAAOR,IAAA,MAAAqB,QAAA,CAAIb,KAAK,CAAI,CAAC,CACvB,CAEA,mBACER,IAAA,QAAAqB,QAAA,CACGjB,SAAS,cACRJ,IAAA,QACEsB,GAAG,CAAE,yBAAyBlB,SAAS,EAAG,CAC1CmB,GAAG,CAAC,QAAQ,CACZC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAC7C,CAAC,cAEF1B,IAAA,MAAAqB,QAAA,CAAG,8BAA4B,CAAG,CACnC,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from\"react\";import{addSampleDetails}from\"../API/SampleApi\";import{useNavigate}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddSampleDetails=()=>{const[formData,setFormData]=useState({articleName:\"\",designFileNo:\"\",seriesArticleFileNo:\"\",articleType:\"\",gender:\"\",machineSpeed:\"\",designer:\"\",grapher:\"\",master:\"\",sampleStatus:\"\"});const[message,setMessage]=useState(null);const[loading,setLoading]=useState(false);const navigate=useNavigate();// Fetch UserId from Redux store\nconst userId=useSelector(state=>state.user.userId);const handleChange=e=>{const{id,value}=e.target;setFormData(prevData=>({...prevData,[id]:value}));};const handleMachineSpeedChange=e=>{const value=e.target.value;if(!isNaN(value)&&value>=0){setFormData(prevData=>({...prevData,machineSpeed:value}));}};const validateForm=()=>{const{articleName,designFileNo,seriesArticleFileNo,articleType,gender,machineSpeed,designer,grapher,master,sampleStatus}=formData;return articleName&&designFileNo&&seriesArticleFileNo&&articleType&&gender&&machineSpeed&&designer&&grapher&&master&&sampleStatus;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){setMessage(\"All fields are required.\");return;}const{articleName,designFileNo,seriesArticleFileNo,articleType,gender,machineSpeed,designer,grapher,master,sampleStatus}=formData;const data={articleName,designFileNo,seriesArticleFileNo,articleType,gender,machineSpeed,designer,grapher,master,sampleStatus,userId};try{setLoading(true);const result=await addSampleDetails(data);setMessage(result.message||\"Sample details added successfully.\");navigate(`/add-image/${result.RSN}`,{state:{RSN:result.RSN}});}catch(error){setMessage(error.message||\"An error occurred while adding the sample details.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Sample Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[Object.keys(formData).map(key=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:key,children:[key.replace(/([A-Z])/g,\" $1\").toUpperCase(),\":\"]}),/*#__PURE__*/_jsx(\"input\",{id:key,type:key===\"machineSpeed\"?\"number\":\"text\",value:formData[key],onChange:key===\"machineSpeed\"?handleMachineSpeedChange:handleChange,required:true})]},key)),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:\"Add New\"})]}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default AddSampleDetails;","map":{"version":3,"names":["React","useState","addSampleDetails","useNavigate","useSelector","jsx","_jsx","jsxs","_jsxs","AddSampleDetails","formData","setFormData","articleName","designFileNo","seriesArticleFileNo","articleType","gender","machineSpeed","designer","grapher","master","sampleStatus","message","setMessage","loading","setLoading","navigate","userId","state","user","handleChange","e","id","value","target","prevData","handleMachineSpeedChange","isNaN","validateForm","handleSubmit","preventDefault","data","result","RSN","error","children","onSubmit","Object","keys","map","key","htmlFor","replace","toUpperCase","type","onChange","required","disabled"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/AddSampleDetails.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { addSampleDetails } from \"../API/SampleApi\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst AddSampleDetails = () => {\r\n  const [formData, setFormData] = useState({\r\n    articleName: \"\",\r\n    designFileNo: \"\",\r\n    seriesArticleFileNo: \"\",\r\n    articleType: \"\",\r\n    gender: \"\",\r\n    machineSpeed: \"\",\r\n    designer: \"\",\r\n    grapher: \"\",\r\n    master: \"\",\r\n    sampleStatus: \"\",\r\n  });\r\n\r\n  const [message, setMessage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch UserId from Redux store\r\n  const userId = useSelector((state) => state.user.userId);\r\n\r\n  const handleChange = (e) => {\r\n    const { id, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [id]: value,\r\n    }));\r\n  };\r\n\r\n  const handleMachineSpeedChange = (e) => {\r\n    const value = e.target.value;\r\n    if (!isNaN(value) && value >= 0) {\r\n      setFormData((prevData) => ({\r\n        ...prevData,\r\n        machineSpeed: value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const {\r\n      articleName,\r\n      designFileNo,\r\n      seriesArticleFileNo,\r\n      articleType,\r\n      gender,\r\n      machineSpeed,\r\n      designer,\r\n      grapher,\r\n      master,\r\n      sampleStatus,\r\n    } = formData;\r\n\r\n    return (\r\n      articleName &&\r\n      designFileNo &&\r\n      seriesArticleFileNo &&\r\n      articleType &&\r\n      gender &&\r\n      machineSpeed &&\r\n      designer &&\r\n      grapher &&\r\n      master &&\r\n      sampleStatus\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      setMessage(\"All fields are required.\");\r\n      return;\r\n    }\r\n\r\n    const {\r\n      articleName,\r\n      designFileNo,\r\n      seriesArticleFileNo,\r\n      articleType,\r\n      gender,\r\n      machineSpeed,\r\n      designer,\r\n      grapher,\r\n      master,\r\n      sampleStatus,\r\n    } = formData;\r\n\r\n    const data = {\r\n      articleName,\r\n      designFileNo,\r\n      seriesArticleFileNo,\r\n      articleType,\r\n      gender,\r\n      machineSpeed,\r\n      designer,\r\n      grapher,\r\n      master,\r\n      sampleStatus,\r\n      userId,\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await addSampleDetails(data);\r\n      setMessage(result.message || \"Sample details added successfully.\");\r\n\r\n      navigate(`/add-image/${result.RSN}`, {\r\n        state: { RSN: result.RSN },\r\n      });\r\n    } catch (error) {\r\n      setMessage(\r\n        error.message || \"An error occurred while adding the sample details.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Add Sample Details</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {Object.keys(formData).map((key) => (\r\n          <div key={key}>\r\n            <label htmlFor={key}>\r\n              {key.replace(/([A-Z])/g, \" $1\").toUpperCase()}:\r\n            </label>\r\n            <input\r\n              id={key}\r\n              type={key === \"machineSpeed\" ? \"number\" : \"text\"}\r\n              value={formData[key]}\r\n              onChange={\r\n                key === \"machineSpeed\" ? handleMachineSpeedChange : handleChange\r\n              }\r\n              required\r\n            />\r\n          </div>\r\n        ))}\r\n        <button type=\"submit\" disabled={loading}>\r\n          Add New\r\n        </button>\r\n      </form>\r\n      {loading && <p>Loading...</p>}\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddSampleDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
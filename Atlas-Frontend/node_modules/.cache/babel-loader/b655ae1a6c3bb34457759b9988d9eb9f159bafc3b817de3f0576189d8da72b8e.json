{"ast":null,"code":"import React,{useState,useEffect}from'react';import{updateEmployee}from'../API/EmployeeApi';// Import your API function\n// Helper function to format date as yyyy-MM-dd\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDateForInput=date=>{const jsDate=new Date(date);const year=jsDate.getFullYear();const month=String(jsDate.getMonth()+1).padStart(2,'0');// Add leading zero for single-digit months\nconst day=String(jsDate.getDate()).padStart(2,'0');// Add leading zero for single-digit days\nreturn`${year}-${month}-${day}`;// Returns date in \"yyyy-MM-dd\" format\n};const UpdateEmployee=_ref=>{let{employee,onSave,onCancel}=_ref;// Set up state for updated employee\nconst[updatedEmployee,setUpdatedEmployee]=useState({...employee});const[successMessage,setSuccessMessage]=useState(\"\");// Whenever employee prop changes, update the state\nuseEffect(()=>{setUpdatedEmployee({...employee,// Format dates correctly\nDOB:formatDateForInput(employee.DOB),JoiningDate:formatDateForInput(employee.JoiningDate),Anniversary:formatDateForInput(employee.Anniversary)});},[employee]);// Handle input changes\nconst handleChange=e=>{const{name,value}=e.target;setUpdatedEmployee(prev=>{const updatedData={...prev,[name]:value};return updatedData;});};// Handle save button click\nconst handleSave=async()=>{if(!updatedEmployee.EmpName||!updatedEmployee.EmailId||!updatedEmployee.ContactNo){alert(\"Please fill in all required fields.\");return;}setSuccessMessage(\"Updated record successfully\");try{const result=await updateEmployee(updatedEmployee);if(result.success){onSave(result.data);alert(\"Updated Record\");}}catch(err){console.log(\"Error updating employee: \"+err.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Employee\"}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\"},children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Employee ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"EmpId\",value:updatedEmployee.EmpId,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"EmpName\",value:updatedEmployee.EmpName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Address\",value:updatedEmployee.Address,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"EmailId\",value:updatedEmployee.EmailId,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contact No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ContactNo\",value:updatedEmployee.ContactNo,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Alternate Contact No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"AltContactNo\",value:updatedEmployee.AltContactNo,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date of Birth\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"DOB\",value:updatedEmployee.DOB,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"Age\",value:updatedEmployee.Age,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Joining Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"JoiningDate\",value:updatedEmployee.JoiningDate,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Designation\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Designation\",value:updatedEmployee.Designation,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Anniversary Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"Anniversary\",value:updatedEmployee.Anniversary,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSave,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,children:\"Cancel\"})]})]})]});};export default UpdateEmployee;","map":{"version":3,"names":["React","useState","useEffect","updateEmployee","jsx","_jsx","jsxs","_jsxs","formatDateForInput","date","jsDate","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","UpdateEmployee","_ref","employee","onSave","onCancel","updatedEmployee","setUpdatedEmployee","successMessage","setSuccessMessage","DOB","JoiningDate","Anniversary","handleChange","e","name","value","target","prev","updatedData","handleSave","EmpName","EmailId","ContactNo","alert","result","success","data","err","console","log","message","children","style","color","type","EmpId","readOnly","onChange","Address","AltContactNo","Age","Designation","onClick"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/UpdateEmployee.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { updateEmployee } from '../API/EmployeeApi'; // Import your API function\r\n\r\n// Helper function to format date as yyyy-MM-dd\r\nconst formatDateForInput = (date) => {\r\n  const jsDate = new Date(date);\r\n  const year = jsDate.getFullYear();\r\n  const month = String(jsDate.getMonth() + 1).padStart(2, '0'); // Add leading zero for single-digit months\r\n  const day = String(jsDate.getDate()).padStart(2, '0'); // Add leading zero for single-digit days\r\n  return `${year}-${month}-${day}`; // Returns date in \"yyyy-MM-dd\" format\r\n};\r\n\r\nconst UpdateEmployee = ({ employee, onSave, onCancel }) => {\r\n  // Set up state for updated employee\r\n  const [updatedEmployee, setUpdatedEmployee] = useState({ ...employee });\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  // Whenever employee prop changes, update the state\r\n  useEffect(() => {\r\n    setUpdatedEmployee({\r\n      ...employee,\r\n      // Format dates correctly\r\n      DOB: formatDateForInput(employee.DOB),\r\n      JoiningDate: formatDateForInput(employee.JoiningDate),\r\n      Anniversary: formatDateForInput(employee.Anniversary),\r\n    });\r\n  }, [employee]);\r\n\r\n  // Handle input changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUpdatedEmployee((prev) => {\r\n      const updatedData = { ...prev, [name]: value };\r\n      return updatedData;\r\n    });\r\n  };\r\n\r\n  // Handle save button click\r\n  const handleSave = async () => {\r\n    if (!updatedEmployee.EmpName || !updatedEmployee.EmailId || !updatedEmployee.ContactNo) {\r\n      alert(\"Please fill in all required fields.\");\r\n      return;\r\n    }\r\n\r\n    setSuccessMessage(\"Updated record successfully\")\r\n    try {\r\n      const result = await updateEmployee(updatedEmployee);\r\n      if (result.success) {\r\n        onSave(result.data);\r\n        alert(\"Updated Record\");\r\n      }\r\n    } catch (err) {\r\n      console.log(\"Error updating employee: \" + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Update Employee</h1>\r\n      {successMessage && <p style={{ color: \"green\" }}>{successMessage}</p>}\r\n      <form>\r\n        <div>\r\n          <label>Employee ID</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"EmpId\"\r\n            value={updatedEmployee.EmpId}\r\n            readOnly\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"EmpName\"\r\n            value={updatedEmployee.EmpName}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Address</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"Address\"\r\n            value={updatedEmployee.Address}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Email ID</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"EmailId\"\r\n            value={updatedEmployee.EmailId}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Contact No</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"ContactNo\"\r\n            value={updatedEmployee.ContactNo}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Alternate Contact No</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"AltContactNo\"\r\n            value={updatedEmployee.AltContactNo}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Date of Birth</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"DOB\"\r\n            value={updatedEmployee.DOB}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Age</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"Age\"\r\n            value={updatedEmployee.Age}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Joining Date</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"JoiningDate\"\r\n            value={updatedEmployee.JoiningDate}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Designation</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"Designation\"\r\n            value={updatedEmployee.Designation}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Anniversary Date</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"Anniversary\"\r\n            value={updatedEmployee.Anniversary}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"button\" onClick={handleSave}>Save</button>\r\n          <button type=\"button\" onClick={onCancel}>Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateEmployee;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
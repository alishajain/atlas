{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const YarnStockDetails=()=>{const[yarnStockDetails,setYarnStockDetails]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();const API_URL=process.env.REACT_APP_API_URL;const formatDate=date=>{const jsDate=new Date(date);const options={year:\"numeric\",month:\"long\",day:\"numeric\"};return jsDate.toLocaleDateString(\"en-US\",options);};useEffect(()=>{axios.get(`${API_URL}/YarnStock`).then(response=>{if(Array.isArray(response.data.data)){setYarnStockDetails(response.data.data);}else{setError(\"Invalid data format received.\");}setLoading(false);}).catch(error=>{setError(error.message);setLoading(false);});},[]);const handleBack=()=>{navigate(\"/yarn\");};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading Yarn Stock Details...\"});}if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error fetching yarn stock details: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Yarn Inventory Details\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"YarnID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lott Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Supplier Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Supplier City\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Weight (in Kgs)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bill Number\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[Array.isArray(yarnStockDetails)&&yarnStockDetails.map(yarn=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(yarn.Date)}),/*#__PURE__*/_jsx(\"td\",{children:yarn.YarnID}),/*#__PURE__*/_jsx(\"td\",{children:yarn.LottNo}),/*#__PURE__*/_jsx(\"td\",{children:yarn.SupplierName}),/*#__PURE__*/_jsx(\"td\",{children:yarn.SupplierCity}),/*#__PURE__*/_jsx(\"td\",{children:yarn.Weight}),/*#__PURE__*/_jsx(\"td\",{children:yarn.Amount}),/*#__PURE__*/_jsx(\"td\",{children:yarn.BillNO})]},`${yarn.YarnId}-${yarn.BillNo}`)),!Array.isArray(yarnStockDetails)&&/*#__PURE__*/_jsx(\"p\",{children:\"Not an Array\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleBack,children:\"Back\"})})]});};export default YarnStockDetails;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","YarnStockDetails","yarnStockDetails","setYarnStockDetails","loading","setLoading","error","setError","navigate","API_URL","process","env","REACT_APP_API_URL","formatDate","date","jsDate","Date","options","year","month","day","toLocaleDateString","get","then","response","Array","isArray","data","catch","message","handleBack","children","map","yarn","YarnID","LottNo","SupplierName","SupplierCity","Weight","Amount","BillNO","YarnId","BillNo","onClick"],"sources":["C:/Users/Bhupesh/OneDrive/Desktop/Alisha/atlas/Atlas-Frontend/src/Components/YarnStockDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\"; \r\n\r\nconst YarnStockDetails = () => {\r\n  const [yarnStockDetails, setYarnStockDetails] = useState([]); \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  \r\n  const API_URL = process.env.REACT_APP_API_URL;\r\n\r\n  const formatDate = (date) => {\r\n    const jsDate = new Date(date);\r\n    const options = {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    };\r\n    return jsDate.toLocaleDateString(\"en-US\", options);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${API_URL}/YarnStock`)\r\n      .then((response) => {\r\n        if (Array.isArray(response.data.data)) {\r\n          setYarnStockDetails(response.data.data);\r\n        } else {\r\n          setError(\"Invalid data format received.\");\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setError(error.message);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const handleBack = () => {\r\n    navigate(\"/yarn\");\r\n  };\r\n\r\n  if (loading) {\r\n    return <p>Loading Yarn Stock Details...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>Error fetching yarn stock details: {error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Yarn Inventory Details</h1>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Date</th>\r\n            <th>YarnID</th>\r\n            <th>Lott Number</th>\r\n            <th>Supplier Name</th>\r\n            <th>Supplier City</th>\r\n            <th>Weight (in Kgs)</th>\r\n            <th>Cost</th>\r\n            <th>Bill Number</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(yarnStockDetails) &&\r\n            yarnStockDetails.map((yarn) => (\r\n              <tr key={`${yarn.YarnId}-${yarn.BillNo}`}>\r\n                <td>{formatDate(yarn.Date)}</td>\r\n                <td>{yarn.YarnID}</td>\r\n                <td>{yarn.LottNo}</td>\r\n                <td>{yarn.SupplierName}</td>\r\n                <td>{yarn.SupplierCity}</td>\r\n                <td>{yarn.Weight}</td>\r\n                <td>{yarn.Amount}</td>\r\n                <td>{yarn.BillNO}</td>\r\n              </tr>\r\n            ))}\r\n          {!Array.isArray(yarnStockDetails) && <p>Not an Array</p>}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Button to navigate to /yarn */}\r\n      <div>\r\n        <button onClick={handleBack}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YarnStockDetails;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAe,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,KAAM,CAAAC,UAAU,CAAIC,IAAI,EAAK,CAC3B,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,IAAI,CAACF,IAAI,CAAC,CAC7B,KAAM,CAAAG,OAAO,CAAG,CACdC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SACP,CAAC,CACD,MAAO,CAAAL,MAAM,CAACM,kBAAkB,CAAC,OAAO,CAAEJ,OAAO,CAAC,CACpD,CAAC,CAEDvB,SAAS,CAAC,IAAM,CACdC,KAAK,CACF2B,GAAG,CAAC,GAAGb,OAAO,YAAY,CAAC,CAC3Bc,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAAE,CACrCxB,mBAAmB,CAACqB,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CACzC,CAAC,IAAM,CACLpB,QAAQ,CAAC,+BAA+B,CAAC,CAC3C,CACAF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDuB,KAAK,CAAEtB,KAAK,EAAK,CAChBC,QAAQ,CAACD,KAAK,CAACuB,OAAO,CAAC,CACvBxB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAyB,UAAU,CAAGA,CAAA,GAAM,CACvBtB,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAED,GAAIJ,OAAO,CAAE,CACX,mBAAON,IAAA,MAAAiC,QAAA,CAAG,+BAA6B,CAAG,CAAC,CAC7C,CAEA,GAAIzB,KAAK,CAAE,CACT,mBAAON,KAAA,MAAA+B,QAAA,EAAG,qCAAmC,CAACzB,KAAK,EAAI,CAAC,CAC1D,CAEA,mBACEN,KAAA,QAAA+B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/B/B,KAAA,UAAA+B,QAAA,eACEjC,IAAA,UAAAiC,QAAA,cACE/B,KAAA,OAAA+B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbjC,IAAA,OAAAiC,QAAA,CAAI,QAAM,CAAI,CAAC,cACfjC,IAAA,OAAAiC,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBjC,IAAA,OAAAiC,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBjC,IAAA,OAAAiC,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBjC,IAAA,OAAAiC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBjC,IAAA,OAAAiC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbjC,IAAA,OAAAiC,QAAA,CAAI,aAAW,CAAI,CAAC,EAClB,CAAC,CACA,CAAC,cACR/B,KAAA,UAAA+B,QAAA,EACGN,KAAK,CAACC,OAAO,CAACxB,gBAAgB,CAAC,EAC9BA,gBAAgB,CAAC8B,GAAG,CAAEC,IAAI,eACxBjC,KAAA,OAAA+B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,CAAKlB,UAAU,CAACoB,IAAI,CAACjB,IAAI,CAAC,CAAK,CAAC,cAChClB,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACC,MAAM,CAAK,CAAC,cACtBpC,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACE,MAAM,CAAK,CAAC,cACtBrC,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACG,YAAY,CAAK,CAAC,cAC5BtC,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACI,YAAY,CAAK,CAAC,cAC5BvC,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACK,MAAM,CAAK,CAAC,cACtBxC,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACM,MAAM,CAAK,CAAC,cACtBzC,IAAA,OAAAiC,QAAA,CAAKE,IAAI,CAACO,MAAM,CAAK,CAAC,GARf,GAAGP,IAAI,CAACQ,MAAM,IAAIR,IAAI,CAACS,MAAM,EASlC,CACL,CAAC,CACH,CAACjB,KAAK,CAACC,OAAO,CAACxB,gBAAgB,CAAC,eAAIJ,IAAA,MAAAiC,QAAA,CAAG,cAAY,CAAG,CAAC,EACnD,CAAC,EACH,CAAC,cAGRjC,IAAA,QAAAiC,QAAA,cACEjC,IAAA,WAAQ6C,OAAO,CAAEb,UAAW,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,CACvC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}